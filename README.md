# Тестовое задание для Cloud.ru Camp

## Сборка и запуск:
Для запуска требуется docker-compose

Развертывание происходит командой "docker-compose -f ./deploy/compose.yml up" из корневой директории проекта. При этом запускаются:
* Два тестовых бэкенд-сервера, на которые происходит перенаправление запросов
* Контейнер с Postgres
* Контейнер с балансировщиком

## Конфигурация
По умолчанию балансировщик доступен по адресу http://localhost:8080

Единственный запрос, на который backend-сервера отвечают успешно - /ping
### config/config.yaml
  * Указан порт приложения
  * Перечислен список серверов для перенаправления, лишний добавлен целенаправленно.
  * Конфигурация БД. При изменениях также необходимо поменять compose.yml
### config/mock.json
  * Перечислены возможные запросы к бэкенд-серверам

## Реализованный функционал
* HTTP-сервер, который принимает входящие запросы
* Алгоритм распределения запросов по бэкендам (round-robin)
* Обработка ошибок (структурированные JSON-ошибки с кодом и описанием)
* Реализация алгоритма Token Bucket
* Настройки для разных клиентов загружаются из Postgres
* Автоматическое пополнение токенов
* Логирование
* Здоровье бэкендов (Health Checks)
* Graceful Shutdown
